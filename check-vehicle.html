<!DOCTYPE html>
<html lang="en-GB">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Check Vehicle Details by VRM | Mobile Tyres</title>
  <meta name="description" content="Check UK vehicle details by registration number (VRM). Make, model, MOT and tax status. Mobile Tyres – we come to you.">
  <meta name="theme-color" content="#18181b">
  <link rel="stylesheet" href="styles.css">
  <script>
    (function(){var t=localStorage.getItem('theme');if(t==='light')document.documentElement.setAttribute('data-theme','light');else document.documentElement.removeAttribute('data-theme');})();
  </script>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = { theme: { extend: { colors: { safety: '#fede00' } } } };
  </script>
</head>
<body class="bg-zinc-900 text-zinc-200 antialiased min-h-screen">
  <div id="scroll-wheel-bg" class="scroll-wheel-bg" aria-hidden="true">
    <svg viewBox="0 0 100 100" fill="none" stroke="currentColor" stroke-width="2.5" xmlns="http://www.w3.org/2000/svg">
      <circle cx="50" cy="50" r="46"/><circle cx="50" cy="50" r="36"/><circle cx="50" cy="50" r="8"/>
      <line x1="50" y1="14" x2="50" y2="86"/><line x1="14" y1="50" x2="86" y2="50"/>
      <line x1="28" y1="28" x2="72" y2="72"/><line x1="72" y1="28" x2="28" y2="72"/>
    </svg>
  </div>
  <!-- Responsive Navbar -->
  <header class="sticky top-0 z-50 bg-zinc-900 border-b border-zinc-700 shadow-lg">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 flex items-center justify-between h-14 sm:h-16 gap-3 md:gap-4">
      <a href="index.html" class="flex items-center shrink-0 min-w-0">
        <img src="https://no5tyreandmot.co.uk/wp-content/uploads/2026/02/Car-Service-Logo-with-Wrench-and-Tyre-Icon-370-x-105-px.png" alt="No 5 Tyre and MOT" class="h-8 sm:h-9 w-auto object-contain max-h-9">
      </a>

      <nav class="nav-desktop" aria-label="Main">
        <a href="index.html" class="px-3 py-2 rounded-lg text-zinc-200 font-medium hover:bg-zinc-800 hover:text-white focus:outline-none focus:ring-2 focus:ring-safety focus:ring-offset-2 focus:ring-offset-zinc-900">Home</a>
        <a href="services.html" class="px-3 py-2 rounded-lg text-zinc-200 font-medium hover:bg-zinc-800 hover:text-white focus:outline-none focus:ring-2 focus:ring-safety focus:ring-offset-2 focus:ring-offset-zinc-900">Services</a>
        <a href="check-vehicle.html" class="px-3 py-2 rounded-lg text-zinc-200 font-medium hover:bg-zinc-800 hover:text-white focus:outline-none focus:ring-2 focus:ring-safety focus:ring-offset-2 focus:ring-offset-zinc-900">Check vehicle</a>
        <a href="contact.html" class="px-3 py-2 rounded-lg text-zinc-200 font-medium hover:bg-zinc-800 hover:text-white focus:outline-none focus:ring-2 focus:ring-safety focus:ring-offset-2 focus:ring-offset-zinc-900">Contact</a>
      </nav>

      <div class="flex items-center gap-2 shrink-0">
        <button type="button" id="theme-toggle" class="p-2 rounded-lg text-zinc-400 hover:bg-zinc-800 hover:text-zinc-200 focus:outline-none focus:ring-2 focus:ring-safety focus:ring-offset-2 focus:ring-offset-zinc-900 transition-colors tap-highlight-none" aria-label="Switch to light theme">
          <svg class="w-5 h-5 theme-icon-dark" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg>
          <svg class="w-5 h-5 theme-icon-light hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"/></svg>
        </button>
        <a href="tel:07895859505" class="inline-flex items-center justify-center gap-2 bg-safety text-zinc-900 font-bold text-sm sm:text-base px-3 sm:px-6 py-2.5 sm:py-3 rounded-lg hover:bg-[#e5c900] focus:outline-none focus:ring-2 focus:ring-safety focus:ring-offset-2 focus:ring-offset-zinc-900 tap-highlight-none transition-colors">
          <svg class="w-5 h-5 shrink-0 hidden sm:block" fill="currentColor" viewBox="0 0 24 24"><path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/></svg>
          CALL 07895 859505
        </a>
        <button type="button" class="nav-mobile-toggle" aria-label="Open menu" aria-expanded="false" aria-controls="nav-mobile-panel" id="nav-mobile-toggle">
          <svg class="w-6 h-6 nav-menu-icon-open" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg>
          <svg class="w-6 h-6 nav-menu-icon-close hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
        </button>
      </div>
    </div>

    <div id="nav-mobile-panel" class="nav-mobile-panel" aria-hidden="true">
      <nav class="flex flex-col p-4 gap-1" aria-label="Mobile">
        <a href="index.html" class="nav-mobile-link">Home</a>
        <a href="services.html" class="nav-mobile-link">Services</a>
        <a href="check-vehicle.html" class="nav-mobile-link">Check vehicle</a>
        <a href="contact.html" class="nav-mobile-link">Contact</a>
        <div class="border-t border-zinc-700 my-3"></div>
        <a href="tel:07895859505" class="nav-mobile-link inline-flex items-center gap-2">
          <svg class="w-5 h-5 shrink-0" fill="currentColor" viewBox="0 0 24 24"><path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/></svg>
          Call 07895 859505
        </a>
      </nav>
    </div>
  </header>

  <main class="max-w-2xl mx-auto px-4 sm:px-6 py-10 sm:py-14">
    <h1 class="text-2xl sm:text-3xl font-bold text-white mb-2">Check vehicle details</h1>
    <p class="text-zinc-400 text-sm sm:text-base mb-8">Enter a UK registration (plate) to see make, model, MOT and tax information.</p>

    <form id="vrm-form" class="mb-8">
      <div class="vrm-plate-wrap mb-4">
        <span class="vrm-label">Vehicle registration (plate)</span>
        <div class="vrm-plate-container">
          <div class="vrm-plate-gb" aria-hidden="true">
            <svg class="vrm-gb-svg" viewBox="0 0 52 112" xmlns="http://www.w3.org/2000/svg">
              <rect width="52" height="112" fill="#003399" rx="2"/>
              <g fill="#FFD700" transform="translate(26,36)">
                <circle r="2.5" cx="0" cy="-12"/><circle r="2.5" cx="0" cy="12"/><circle r="2.5" cx="-10.4" cy="-6"/><circle r="2.5" cx="10.4" cy="-6"/><circle r="2.5" cx="-10.4" cy="6"/><circle r="2.5" cx="10.4" cy="6"/><circle r="2.5" cx="-12" cy="0"/><circle r="2.5" cx="12" cy="0"/><circle r="2.5" cx="-6" cy="-10.4"/><circle r="2.5" cx="6" cy="-10.4"/><circle r="2.5" cx="-6" cy="10.4"/><circle r="2.5" cx="6" cy="10.4"/>
              </g>
              <text x="26" y="88" text-anchor="middle" fill="white" font-family="Arial,sans-serif" font-weight="bold" font-size="22">GB</text>
            </svg>
          </div>
          <label for="vrm" class="sr-only">VRM (vehicle registration)</label>
          <input
            id="vrm"
            type="text"
            name="vrm"
            placeholder="AB12 CDE"
            maxlength="8"
            class="vrm-plate-input"
            required
            autocomplete="off"
          />
        </div>
      </div>
      <div class="flex gap-3 justify-center">
        <button
          type="submit"
          id="vrm-submit"
          class="px-6 py-3.5 bg-safety text-zinc-900 font-bold rounded-lg hover:bg-[#e5c900] focus:outline-none focus:ring-2 focus:ring-safety focus:ring-offset-2 focus:ring-offset-zinc-900 transition-colors uppercase tracking-wide disabled:opacity-70"
        >
          Check
        </button>
      </div>
      <p id="vrm-status" class="text-sm mt-3 hidden" aria-live="polite"></p>
    </form>

    <div id="vehicle-result" class="hidden rounded-xl border-2 border-zinc-600 bg-zinc-800/80 overflow-hidden">
      <div class="p-4 sm:p-6 border-b border-zinc-600">
        <h2 id="result-title" class="text-lg font-bold text-white"></h2>
        <p id="result-reg" class="text-safety font-semibold text-sm mt-1"></p>
      </div>
      <dl class="p-4 sm:p-6 grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-4 text-sm">
        <template id="result-row">
          <div class="flex justify-between sm:block gap-2">
            <dt class="text-zinc-500 font-medium"></dt>
            <dd class="text-zinc-200 font-semibold"></dd>
          </div>
        </template>
      </dl>
    </div>
  </main>

  <footer class="bg-zinc-900 border-t border-zinc-700 py-10 sm:py-12 mt-auto">
    <div class="max-w-6xl mx-auto px-4 sm:px-6">
      <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-6">
        <div>
          <a href="index.html" class="inline-block">
            <img src="https://no5tyreandmot.co.uk/wp-content/uploads/2026/02/Car-Service-Logo-with-Wrench-and-Tyre-Icon-370-x-105-px.png" alt="No 5 Tyre and MOT" class="h-8 w-auto object-contain">
          </a>
          <p class="font-bold text-white text-lg mt-2">Mobile Tyres</p>
          <p class="text-zinc-400 text-sm mt-1">Emergency mobile tyre fitting – we come to you.</p>
        </div>
        <div class="flex flex-wrap items-center gap-4">
          <a href="tel:07895859505" class="inline-flex items-center gap-2 text-safety font-semibold hover:text-[#e5c900] transition-colors tap-highlight-none">07895 859505</a>
          <a href="https://wa.me/447895859505" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-2 text-zinc-400 font-semibold hover:text-zinc-200 transition-colors" aria-label="WhatsApp">WhatsApp</a>
        </div>
      </div>
      <div class="mt-8 pt-6 border-t border-zinc-700 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 text-sm text-zinc-500">
        <p>© <span id="footer-year"></span> Mobile Tyres. All rights reserved.</p>
        <a href="https://www.cybercina.co.uk" target="_blank" rel="noopener noreferrer" class="flex items-center gap-2 text-zinc-500 hover:text-zinc-300 transition-colors" aria-label="Site developed by Cybercina">
          <span>Site developed by</span>
          <img src="https://cybercina.co.uk/wp-content/uploads/2025/10/cropped-2.png" alt="Cybercina" class="h-6 w-auto object-contain">
        </a>
      </div>
    </div>
  </footer>

  <div class="h-16 sm:hidden" aria-hidden="true"></div>

  <script>
    document.getElementById('footer-year') && (document.getElementById('footer-year').textContent = new Date().getFullYear());

    (function(){
      function fadeIn(){ document.body.classList.add('page-loaded'); }
      if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', fadeIn); else fadeIn();
      document.addEventListener('click', function(e){
        var a = e.target.closest('a[href]');
        if (!a || a.target === '_blank' || a.getAttribute('href').startsWith('tel:') || a.getAttribute('href').startsWith('mailto:') || a.getAttribute('href').startsWith('#')) return;
        try { if (a.hostname !== window.location.hostname) return; } catch(_) { return; }
        if (a.pathname === window.location.pathname && !a.getAttribute('href').replace(/^#.*/, '')) return;
        e.preventDefault();
        document.body.classList.add('page-leaving');
        setTimeout(function(){ window.location.href = a.href; }, 220);
      });
    })();
  </script>

  <script>
      var toggle = document.getElementById('theme-toggle');
      if (!toggle) return;
      function applyTheme(light) {
        var root = document.documentElement;
        if (light) { root.setAttribute('data-theme', 'light'); localStorage.setItem('theme', 'light'); }
        else { root.removeAttribute('data-theme'); localStorage.setItem('theme', 'dark'); }
        var meta = document.querySelector('meta[name="theme-color"]');
        if (meta) meta.setAttribute('content', light ? '#f4f4f5' : '#18181b');
        if (toggle) {
          toggle.querySelector('.theme-icon-dark').classList.toggle('hidden', light);
          toggle.querySelector('.theme-icon-light').classList.toggle('hidden', !light);
          toggle.setAttribute('aria-label', light ? 'Switch to dark theme' : 'Switch to light theme');
        }
      }
      toggle.addEventListener('click', function() {
        applyTheme(document.documentElement.getAttribute('data-theme') !== 'light');
      });
      var isLight = document.documentElement.getAttribute('data-theme') === 'light';
      toggle.querySelector('.theme-icon-dark').classList.toggle('hidden', isLight);
      toggle.querySelector('.theme-icon-light').classList.toggle('hidden', !isLight);
      toggle.setAttribute('aria-label', isLight ? 'Switch to dark theme' : 'Switch to light theme');
    })();
  </script>

  <script>
    (function(){
      var wheel = document.getElementById('scroll-wheel-bg');
      if (!wheel) return;
      var ticking = false;
      function updateRotation() { wheel.style.transform = 'rotate(' + (window.scrollY * 0.4) + 'deg)'; ticking = false; }
      function onScroll() { if (!ticking) { requestAnimationFrame(updateRotation); ticking = true; } }
      window.addEventListener('scroll', onScroll, { passive: true });
      updateRotation();
    })();
  </script>

  <script>
    (function () {
      var API_BASE = 'vehicle-check.php';
      var form = document.getElementById('vrm-form');
      var input = document.getElementById('vrm');
      var submitBtn = document.getElementById('vrm-submit');
      var statusEl = document.getElementById('vrm-status');
      var resultEl = document.getElementById('vehicle-result');
      var resultTitle = document.getElementById('result-title');
      var resultReg = document.getElementById('result-reg');
      var resultDl = resultEl && resultEl.querySelector('dl');

      function setStatus(msg, isError) {
        if (!statusEl) return;
        statusEl.textContent = msg;
        statusEl.className = 'text-sm mt-3 ' + (isError ? 'text-red-400' : 'text-safety');
        statusEl.classList.remove('hidden');
      }

      function showResult(data) {
        if (!resultEl || !data) return;
        var reg = (data.registrationNumber || '').toUpperCase();
        var make = data.make || '';
        var model = data.model || '';
        resultTitle.textContent = make && model ? make + ' ' + model : (make || model || 'Vehicle details');
        resultReg.textContent = reg ? 'Registration: ' + reg : '';

        var rows = [
          { label: 'Make', value: data.make },
          { label: 'Model', value: data.model },
          { label: 'Colour', value: data.colour },
          { label: 'Fuel type', value: data.fuelType },
          { label: 'Engine capacity', value: data.engineCapacity ? data.engineCapacity + ' cc' : '' },
          { label: 'Year of manufacture', value: data.yearOfManufacture },
          { label: 'Vehicle age', value: data.vehicleAge },
          { label: 'Wheelplan', value: data.wheelplan },
          { label: 'Last V5C issued', value: data.dateOfLastV5CIssued },
          { label: 'Type approval', value: data.typeApproval },
          { label: 'CO₂ emissions', value: data.co2Emissions != null ? data.co2Emissions + ' g/km' : '' },
          { label: 'Registration place', value: data.registrationPlace },
          { label: 'Tax status', value: data.tax && data.tax.taxStatus },
          { label: 'Tax due date', value: data.tax && data.tax.taxDueDate },
          { label: 'MOT status', value: data.mot && data.mot.motStatus },
          { label: 'MOT due date', value: data.mot && data.mot.motDueDate },
          { label: 'MOT days', value: data.mot && data.mot.days != null ? data.mot.days + ' days' : '' }
        ];

        resultDl.innerHTML = '';
        rows.forEach(function (r) {
          if (r.value === undefined || r.value === null || r.value === '') return;
          var div = document.createElement('div');
          div.className = 'flex justify-between sm:block gap-2';
          div.innerHTML = '<dt class="text-zinc-500 font-medium">' + escapeHtml(r.label) + '</dt><dd class="text-zinc-200 font-semibold">' + escapeHtml(String(r.value)) + '</dd>';
          resultDl.appendChild(div);
        });

        resultEl.classList.remove('hidden');
      }

      function escapeHtml(s) {
        var div = document.createElement('div');
        div.textContent = s;
        return div.innerHTML;
      }

      form.addEventListener('submit', function (e) {
        e.preventDefault();
        var vrm = (input && input.value) ? input.value.trim().replace(/\s+/g, '') : '';
        if (!vrm) {
          setStatus('Please enter a registration number.', true);
          return;
        }

        submitBtn.disabled = true;
        if (statusEl) statusEl.classList.add('hidden');
        resultEl.classList.add('hidden');

        fetch(API_BASE + '?vrm=' + encodeURIComponent(vrm.toUpperCase()))
          .then(function (res) { return res.json(); })
          .then(function (data) {
            submitBtn.disabled = false;
            if (data && data.registrationNumber) {
              setStatus('Vehicle found.', false);
              showResult(data);
            } else {
              setStatus(data && data.error ? data.error : 'Vehicle not found. Check the registration and try again.', true);
            }
          })
          .catch(function () {
            submitBtn.disabled = false;
            setStatus('Unable to check. Please try again or call us.', true);
          });
      });
    })();
  </script>
  <script>
    (function () {
      var toggle = document.getElementById('nav-mobile-toggle');
      var panel = document.getElementById('nav-mobile-panel');
      if (!toggle || !panel) return;
      function open() {
        document.body.classList.add('nav-open');
        toggle.setAttribute('aria-expanded', 'true');
        panel.setAttribute('aria-hidden', 'false');
      }
      function close() {
        document.body.classList.remove('nav-open');
        toggle.setAttribute('aria-expanded', 'false');
        panel.setAttribute('aria-hidden', 'true');
      }
      toggle.addEventListener('click', function () {
        if (document.body.classList.contains('nav-open')) close(); else open();
      });
      panel.querySelectorAll('.nav-mobile-link').forEach(function (link) {
        link.addEventListener('click', close);
      });
      document.addEventListener('keydown', function (e) {
        if (e.key === 'Escape') close();
      });
    })();
  </script>
</body>
</html>
